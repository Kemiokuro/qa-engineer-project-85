---
- summary: |
    Авторизация с помощью Github
  requirement: |
    При верном вводе логине и пароля пользователь должен войти в систему
  prerequisites: |
    Авторизоваться на Github
  test-data: |
    Логин = Marmelad Пароль = 745tyjdgk
  steps:
    - Нажать на кнопку "Sign in"
    - Нажать на кнопку "Sign in with Github"
    - Ввести логин из предусловия
    - Ввести пароль из предусловия
    - Нажать на кнопку "Sign in"
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Авторизация с помощью Discord
  requirement: |
    При верном вводе логине и пароля пользователь должен войти в систему
  prerequisites: |
    Авторизоваться на Discord
  test-data: |
    Логин = Marmelad Пароль = 745tyjdgk
  steps:
    - Нажать на кнопку "Sign in"
    - Нажать на кнопку "Sign in with Discord"
    - Ввести логин из предусловия
    - Ввести пароль из предусловия
    - Нажать на кнопку "Авторизоваться"
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Регистрация пользователя с новым логином и паролем
  requirement: |
    Должна произойти регистрация
  prerequisites:
    Не трубется
  test-data: |
    Пароль = 12345Hytfd Никнейм = Ananasik Email = Ananasik@mail.ru
  steps:
    - Нажимаем кнопку "Sing up"
    - Вводим логин из предусловия
    - Вводим пароль из предусловия
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь успешно зарегестрирован

- summary: |
    Авторизация пользователя с существующем логином и паролем
  requirement: |
    Должна произойти авторизация
  prerequisites:
    Не трубется
  test-data: |
    Пароль = 12345Hytfd Email = Ananasik@mail.ru
  steps:
    - Нажимаем кнопку "Sing in"
    - Вводим логин из предусловия
    - Вводим пароль из предусловия
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка работоспособности функции Level 1 в "Create a game"
  requirement: |
    Должна создаться игра с выбранной сложностью
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - Выбрать сложность "одна звезда" из предложенных
    - Нажать кнопку «Create battle»
  expected-result: |
    Игра успешно создана с задачей из пула сложности "одна звезда"

- summary: |
    Проверка работоспособности функции Level 2 в "Create a game"
  requirement: |
    Должна создаться игра с выбранной сложностью
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - Выбрать сложность "две звезды" из предложенных
    - Нажать кнопку «Create battle»
  expected-result: |
    Игра успешно создана с задачей из пула сложности "две звезды"

- summary: |
    Проверка работоспособности функции Level 3 в "Create a game"
  requirement: |
    Должна создаться игра с выбранной сложностью
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - Выбрать сложность "три звезды" из предложенных
    - Нажать кнопку «Create battle»
  expected-result: |
    Игра успешно создана с задачей из пула сложности "три звезды"

- summary: |
    Проверка работоспособности функции Level 4 в "Create a game"
  requirement: |
    Должна создаться игра с выбранной сложностью
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - Выбрать сложность "четыре звезды" из предложенных
    - Нажать кнопку «Create battle»
  expected-result: |
    Игра успешно создана с задачей из пула сложности "четыре звезды"

- summary: |
    Проверка создания игры с ботом
  requirement: |
    Должна создаться задача с выбранным типом игры (With a Bot)
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - Выбрать тип игры "With a Bot"
    - Нажать кнопку «Create battle»
  expected-result: |
    Игра успешно создана с ботом

- summary: |
    Проверка создания игры со случайным пользователем
  requirement: |
    Должна создаться задача с выбранным типом игры (With other user)
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - Выбрать тип игры "With other user"
    - Нажать кнопку «Create battle»
  expected-result: |
    Игра успешно создана со случайным пользователем

- summary: |
    Проверка создания игры с пользователем из списка друзей
  requirement: |
    Должна создаться игра с другом
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - В пункте "Game Type" выбрать "With a friend"
    - В выпадающем окне "Choose opponent" указать Ananasik
    - Нажать кнопку «Create invite»
  expected-result: |
    Игра успешно создана с пользователем из списка друзей

- summary: |
    Проверка создания игры с указанным лимитом временем
  requirement: |
    Должна создаться задача с указанным временем
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - В пункте "Time control" передвинуть ползунок на 59 min
    - Нажать кнопку «Create battle»
  expected-result: |
    Игра успешно создана с заданным временем

- summary: |
    Проверка функции выбора заданий
  requirement: |
    Должна создаться задача с выбранным заданием
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - В пункте "Choose task by name or tags" выбрать add_two_number
    - Нажать кнопку «Create battle»
  expected-result: |
    Игра успешно создана с выбранным заданием

- summary: |
    Проверка функции выбора тегов
  requirement: |
    Должна создаться задача с выбранным заданием по тегу
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - В пункте "Choose task by name or tags" выбрать тег "math"
    - Выбрать задачу cube_sum
    - Нажать кнопку «Create battle»
  expected-result: |
    Игра успешно создана с выбранным заданием по тегу
    
- summary: |
    Проверка функции "сдаться" в раунде
  requirement: |
    Запущенная игра должна быть успешно завершена
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Create a game"
    - В пункте "Game Type" выбрать "With a Bot"
    - Нажать кнопку «Create battle»
    - Нажать на иконку с красным флагом
    - В модальном окне нажать "Give up"
    - Проверить что текст уведомления в окне соответствует "If you read this you've lost the game"
    - В модальном окне нажать "I'll be back"
    - Нажать кнопку «Back to home»
  expected-result: |
    Запущенная игра успешно завершена

- summary: |
    Проверка функциональности информационного окна "LEADERBOARD"
  requirement: |
    Должен отобразиться список игроков за неделю, месяц и все время, отсортированных по очкам от наивысшего к наименьшему
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Month"
    - Нажать на кнопку "All"
    - Нажать на кнопку "Week"
  expected-result: |
    Список игроков успешно сортируется по количеству очков и выбранному периоду

- summary: |
    Проверка работоспособности поиска пользователей в Top list
  requirement: |
    Должен отобразиться пользователь с заданным именем
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Существует пользователь Ananasik
  steps:
    - Нажать на кнопку "Top list"
    - В поле "Username" ввести Ananasik
  expected-result: |
    Пользователь успешно найден по имени

- summary: |
    Проверка отображения рейтинга игроков за неделю
  requirement: |
    Должены отобразиться пользователи учавствующие в рейтинге за неделю
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Top list"
    - Нажать на кнопку "Weekly"
  expected-result: |
    Список пользователей успешно отфильтрован по выбранному периоду за неделю, изменено количество Total entries в соответствии с количеством пользователей

- summary: |
    Проверка отображения рейтинга игроков за месяц
  requirement: |
    Должены отобразиться пользователи учавствующие в рейтинге за месяц
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Top list"
    - Нажать на кнопку "Monthly"
  expected-result: |
    Список пользователей успешно отфильтрован по выбранному периоду за месяц, изменено количество Total entries в соответствии с количеством пользователей

- summary: |
    Проверка отображения рейтинга игроков за все время
  requirement: |
    Должены отобразиться пользователи учавствующие в рейтинге за все время
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Top list"
    - Нажать на кнопку "All"
  expected-result: |
    Список пользователей успешно отфильтрован по выбранному периоду за все время, изменено количество Total entries в соответствии с количеством пользователей

- summary: |
    Проверка фильтрации игр по признаку "With bots"
  requirement: |
    Должен отобразиться список игроков и отсортироваться по признаку With bots
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Top list"
    - Выбрать чек-бокс "With bots"
  expected-result: |
    При сортировке списка игроков учитываются игры с ботами 

- summary: |
    Проверка отображения игроков по рангу
  requirement: |
    Должены отобразиться пользователи по рангу
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Top list"
    - Нажать на кнопку "Rank"
  expected-result: |
    Список пользователей успешно отфильтрован по выбранному критерию

- summary: |
    Проверка отображения игроков по рейтингу
  requirement: |
    Должены отобразиться пользователи по рейтингу
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Top list"
    - Нажать на кнопку "Rating"
  expected-result: |
    Список пользователей успешно отфильтрован по выбранному критерию

- summary: |
    Проверка отображения игроков по количеству игр
  requirement: |
    Должены отобразиться пользователи по количеству игр
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Top list"
    - Нажать на кнопку "Games played"
  expected-result: |
    Список пользователей успешно отфильтрован по выбранному критерию

- summary: |
    Проверка отображения игроков по дате регистрации
  requirement: |
    Должены отобразиться пользователи по дате регистрации
  prerequisites: |
    Авторизоваться через Github
  test-data: |
    Не требуются
  steps:
    - Нажать на кнопку "Top list"
    - Нажать на кнопку "Joined"
  expected-result: |
    Список пользователей успешно отфильтрован по выбранному критерию

- summary: |
    Проверка функциональности чата
  requirement: |
    Сообщения должны отправляться
  prerequisites: |
    Авторизоваться через Github 
  test-data: |
    Существует пользователь Meow34578
  steps:
    - Найти в чате пользователя Meow34578
    - Нажать на кнопку "Direct message"
    - Отправить сообщение с текстом "Привет :)"
  expected-result: |
    Сообщение успешно отправлено

- summary: |
    Проверка возможности отклонить приглашение в игру
  requirement: |
    Игра должна отклониться
  prerequisites: |
    С одного браузера авторизоваться через Github, с другого браузера авторизоваться под ником Meow34578, используя информацию из test-data  
  test-data: |
    Существует пользователь Meow34578
    Логин=Meow22 Пароль=hjkdhc33
  steps:
    - Войти по Github
    - Найти в чате пользователя Meow34578
    - Нажать на кнопку "Send an invite"
    - Нажать на кнопку "Create invite"
    - Перейти на аккаунт пользователя Meow34578
    - В окне надать кнопку "Decline"
  expected-result: |
    Игра успешно отклонена, в чате всплывает информирующее сообщение с текстом Invite has been canceled (Opponent Meow34578)

- summary: |
    Проверка настроек пользователя
  requirement: |
    Настройки должны быть успешно изменены
  prerequisites: |
    Авторизоваться через Github 
  test-data: |
    Не требуется
  steps:
    - Нажать в шапке сайта на никнейм
    - В выпадающем окне выбрать "Settings"
    - В строке "Your name" ввести Catnip
    - В строке "Your weapon" выбрать Javascript
    - В колонке "Select sound type" выбрать CS
    - Ползунок звука подвинуть вправо на максимум
    - Нажать "Save"
  expected-result: |
    Все заданые функции в настрйоках успешно изменены

- summary: |
    Проверка функции восстановления пароля зарегистрированного пользователя
  requirement: |
    Пароль успешно сменен
  prerequisites: |
    Авторизоваться на почте
  test-data: |
    Логин = Test_21@mail.ru Пароль = tyjdgk21
  steps:
    - Нажать на кнопку "Sign in"
    - Нажать на кнопку "Forgot your password?"
    - Ввести почту из предусловия
    - Нажать на кнопку "Submit"
    - Открыть почту и найти письмо с текстом "Reset your password for Codebattle"
    - Перейти по ссылке в письме
    - Представлена форма для введения нового пароля
  expected-result: |
    - Пароль успешно сменен на новый
